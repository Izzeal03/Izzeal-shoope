<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Izzeal.id Store</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}
body{background:#fff;color:#222;}
header{background:#ffcc00;color:#111;padding:15px 20px;text-align:center;position:sticky;top:0;z-index:1000;box-shadow:0 2px 10px rgba(0,0,0,0.2);}
header h1{font-size:26px;font-weight:700;color:#111;margin-bottom:10px;}
nav{display:flex;justify-content:center;flex-wrap:wrap;gap:10px;}
nav button{background:#111;color:#fff;border:none;padding:8px 15px;border-radius:8px;cursor:pointer;font-weight:600;transition:.3s;}
nav button:hover{background:#333;transform:scale(1.05);}
nav button.active{background:#ffcc00;color:#111;font-weight:700;}
#user-info{margin-right:10px;color:#111;font-weight:600;}
section{background:#f9f9f9;padding:25px;margin:25px;border-radius:15px;box-shadow:0 4px 15px rgba(0,0,0,0.1);display:none;}
section h2{color:#111;margin-bottom:15px;}
input,textarea,select{padding:10px;border:1px solid #ccc;border-radius:8px;background:#fff;color:#111;width:100%;margin-bottom:15px;}
textarea{resize:vertical;min-height:60px;}
button[type="submit"], .product button{background:#ffcc00;color:#111;font-weight:600;padding:10px 15px;border:none;border-radius:8px;cursor:pointer;transition:.3s;}
button[type="submit"]:hover,.product button:hover{background:#e6b800;}
.products{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:20px;}
.product{background:#fff;padding:15px;border-radius:12px;box-shadow:0 2px 10px rgba(0,0,0,0.1);text-align:center;}
.product img{max-width:100%;height:180px;object-fit:cover;border-radius:10px;margin-bottom:10px;cursor:pointer;}
.product h3{margin:10px 0;font-size:18px;color:#111;}
ul{list-style:none;padding:0;}
ul li{padding:6px 0;border-bottom:1px solid #ddd;}
.filter-buttons{margin-bottom:20px;text-align:center;}
.filter-buttons button{margin:5px;}
/* Modal */
#productModal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);justify-content:center;align-items:center;}
#productModal .modal-content{background:#fff;padding:20px;border-radius:15px;max-width:400px;width:90%;position:relative;}
#productModal .modal-content img{width:100%;height:200px;object-fit:cover;border-radius:10px;margin-bottom:10px;}
#productModal .close{position:absolute;top:10px;right:15px;font-size:20px;cursor:pointer;}
</style>
</head>
<body>

<header>
  <h1>Izzeal.id Store</h1>
  <nav>
    <span id="user-info">üë§ Guest</span>
    <button onclick="showSection('dashboard', this)" class="active">üè† Dashboard</button>
    <button onclick="showSection('cart', this)">üõí Cart (<span id="cart-count">0</span>)</button>
    <button onclick="showSection('wishlist', this)">‚ù§Ô∏è Wishlist</button>
    <button onclick="showSection('tracking', this)">üîç Tracking</button>
    <button onclick="showSection('checkout', this)">üí≥ Checkout</button>
    <button onclick="showSection('profile', this)">üë§ Profil</button>
    <button onclick="showSection('login', this)">üîë Login</button>
    <button onclick="showSection('register', this)">üìù Register</button>
    <button onclick="logout()">üö™ Logout</button>
  </nav>
</header>

<!-- Dashboard -->
<section id="dashboard" style="display:block;">
  <h2>Daftar Produk</h2>
  <div class="filter-buttons">
    <button onclick="filterCategory('All')">Semua</button>
    <button onclick="filterCategory('Kaos')">Kaos</button>
    <button onclick="filterCategory('Celana')">Celana</button>
    <button onclick="filterCategory('Sneakers')">Sneakers</button>
    <button onclick="filterCategory('Jam Tangan')">Jam Tangan</button>
    <button onclick="filterCategory('Kacamata')">Kacamata</button>
  </div>
  <div class="products" id="product-list"></div>
</section>

<!-- Cart -->
<section id="cart">
  <h2>Keranjang Belanja</h2>
  <ul id="cart-items"></ul>
  <p>Total: Rp <span id="cart-total">0</span></p>
</section>

<!-- Wishlist -->
<section id="wishlist">
  <h2>Wishlist</h2>
  <ul id="wishlist-items"></ul>
</section>

<!-- Tracking -->
<section id="tracking">
  <h2>Tracking Pesanan</h2>
  <form onsubmit="return trackOrder(event)">
    <input type="text" id="trackCode" placeholder="Masukkan Kode Tracking" required>
    <button type="submit">Lacak</button>
  </form>
  <p id="trackingResult"></p>
</section>

<!-- Checkout -->
<section id="checkout">
  <h2>Checkout</h2>
  <form onsubmit="return doCheckout(event)">
    <input type="text" id="checkoutName" placeholder="Nama Penerima" required>
    <input type="text" id="checkoutPhone" placeholder="Nomor Telepon" required>
    <textarea id="checkoutAddress" placeholder="Alamat Lengkap" required></textarea>
    <select id="checkoutPayment" required>
      <option value="">-- Pilih Metode Pembayaran --</option>
      <option value="COD">COD (Bayar di Tempat)</option>
      <option value="Transfer Bank">Transfer Bank</option>
      <option value="E-Wallet">E-Wallet (OVO, Gopay, Dana)</option>
    </select>
    <button type="submit">Buat Pesanan</button>
  </form>
  <p id="checkoutMessage"></p>
</section>

<!-- Profil -->
<section id="profile">
  <h2>Profil Saya</h2>
  <form onsubmit="return updateProfile(event)">
    <input type="text" id="profileName" placeholder="Nama Lengkap" required>
    <input type="email" id="profileEmail" placeholder="Email" required>
    <input type="text" id="profilePhone" placeholder="Nomor Telepon">
    <textarea id="profileAddress" placeholder="Alamat Lengkap"></textarea>
    <input type="password" id="profilePassword" placeholder="Kata Sandi Baru">
    <button type="submit">Simpan Perubahan</button>
  </form>
  <p id="profileMessage"></p>
</section>

<!-- Login -->
<section id="login">
  <h2>Login</h2>
  <form onsubmit="return login(event)">
    <input type="email" id="loginEmail" placeholder="Email" required>
    <input type="password" id="loginPassword" placeholder="Kata Sandi" required>
    <button type="submit">Login</button>
  </form>
  <p id="loginMessage"></p>
</section>

<!-- Register -->
<section id="register">
  <h2>Register</h2>
  <form onsubmit="return register(event)">
    <input type="text" id="regName" placeholder="Nama Lengkap" required>
    <input type="email" id="regEmail" placeholder="Email" required>
    <input type="password" id="regPassword" placeholder="Kata Sandi" required>
    <button type="submit">Daftar</button>
  </form>
  <p id="regMessage"></p>
</section>

<!-- Modal Produk -->
<div id="productModal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">‚ùå</span>
    <img id="modalImg" src="" alt="">
    <h3 id="modalName"></h3>
    <p id="modalCategory"></p>
    <p id="modalPrice"></p>
    <p id="modalDesc"></p>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function(){
  const products = [
    {name:"Kaos Polos Hitam",price:75000,category:"Kaos",img:"https://images.unsplash.com/photo-1523381210434-271e8be1f52b",description:"Kaos polos hitam nyaman, bahan katun lembut, cocok untuk sehari-hari."},
    {name:"Celana Jeans Slim Fit",price:150000,category:"Celana",img:"https://images.unsplash.com/photo-1512436991641-6745cdb1723f",description:"Celana jeans slim fit dengan bahan denim berkualitas tinggi, pas di badan."},
    {name:"Sneakers Putih",price:350000,category:"Sneakers",img:"https://images.unsplash.com/photo-1542291026-7eec264c27ff",description:"Sneakers putih stylish, nyaman untuk dipakai jalan-jalan dan olahraga ringan."},
    {name:"Jam Tangan Elegan",price:500000,category:"Jam Tangan",img:"https://images.unsplash.com/photo-1523275335684-37898b6baf30",description:"Jam tangan elegan dengan desain klasik, cocok untuk acara formal dan casual."},
    {name:"Kacamata Hitam",price:120000,category:"Kacamata",img:"https://images.unsplash.com/photo-1503341455253-b2e723bb3dbb",description:"Kacamata hitam modern, melindungi mata dari sinar UV dan membuat penampilan lebih stylish."}
  ];

  let cart = [];
  let wishlist = [];

  function renderProducts(list){
    const container = document.getElementById("product-list");
    container.innerHTML="";
    list.forEach((p,i)=>{
      const div=document.createElement("div");
      div.className="product";
      div.innerHTML=`<img src="${p.img}" alt="${p.name}"><h3>${p.name}</h3><p>Rp ${p.price.toLocaleString()}</p>
      <button onclick="addToCart(${i})">Tambah ke Cart</button>
      <button onclick="addToWishlist(${i})">‚ù§Ô∏è Wishlist</button>`;
      div.querySelector("img").addEventListener("click",()=>showModal(i));
      container.appendChild(div);
    });
  }
  window.renderProducts=renderProducts;
  window.products=products;

  renderProducts(products);

  window.filterCategory=function(cat){
    if(cat==="All") renderProducts(products);
    else renderProducts(products.filter(p=>p.category===cat));
  }

  window.showModal=function(i){
    const p=products[i];
    document.getElementById("modalImg").src=p.img;
    document.getElementById("modalName").innerText=p.name;
    document.getElementById("modalCategory").innerText="Kategori: "+p.category;
    document.getElementById("modalPrice").innerText="Harga: Rp "+p.price.toLocaleString();
    document.getElementById("modalDesc").innerText=p.description;
    document.getElementById("productModal").style.display="flex";
  }
  window.closeModal=function(){document.getElementById("productModal").style.display="none";}

  window.addToCart=function(i){
    cart.push(products[i]);
    alert(products[i].name+" ditambahkan ke cart!");
    document.getElementById("cart-count").innerText=cart.length;
    renderCart();
  }

  window.renderCart=function(){
    const list=document.getElementById("cart-items");
    list.innerHTML="";
    let total=0;
    cart.forEach((item,i)=>{
      const li=document.createElement("li");
      li.innerHTML=`${item.name} - Rp ${item.price.toLocaleString()} <button onclick="removeCart(${i})">‚ùå</button>`;
      list.appendChild(li);
      total+=item.price;
    });
    document.getElementById("cart-total").innerText=total.toLocaleString();
  }

  window.removeCart=function(i){cart.splice(i,1);renderCart();document.getElementById("cart-count").innerText=cart.length;}

  window.addToWishlist=function(i){
    wishlist.push(products[i]);
    renderWishlist();
    alert(products[i].name+" ditambahkan ke wishlist!");
  }

  window.renderWishlist=function(){
    const list=document.getElement